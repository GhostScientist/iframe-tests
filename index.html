<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Frame Page</title>
    <style>
        iframe {
            display: none;
            width: 100%;
            height: 80vh;
        }
        iframe.active {
            display: block;
        }
    </style>
</head>
<body>
    <h1>Hello!</h1>

    <button onclick="addFrameForReact()">Add React</button>

    <script>
        if (window === window.parent) {
            console.log("adding iframe for index.html");
            var currentLocation = window.location.href;
    
            var iframe = document.createElement('iframe');
            iframe.src = currentLocation;
            iframe.width = '100%';
            iframe.height = '80vh';
            iframe.style.border = 'none';
            iframe.style.display = 'block';
            iframe.className = 'active';
    
            document.body.innerHTML = '';
            document.body.appendChild(iframe);
        } else {
            console.log("I'm already inside an iframe!");
        }

        function addFrameForReact() {
            var existingIframe = document.getElementById('react');

            if (existingIframe) {
                console.log("React iframe already exists.");
                return;
            }

            var iframe = document.createElement('iframe');
            iframe.id = 'react';
            iframe.src = 'react-app.html'; 
            iframe.width = '100%';
            iframe.height = '80vh';
            iframe.style.border = 'none';
            iframe.style.display = 'block';
            iframe.className = 'active';

            document.body.appendChild(iframe);
        }
    </script>
</body>
</html>
