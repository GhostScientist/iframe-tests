<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My React App</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.production.min.js"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/javascript">
        if (window === window.parent) {
            console.log("adding iframe for react-app.html");
            var currentLocation = window.location.href;

            var iframe = document.createElement('iframe');
            iframe.src = 'react-app.html';
            iframe.width = '100%';
            iframe.height = '100%';
            iframe.style.border = 'none';

            document.body.appendChild(iframe);
        } else {
            const MyApp = () => {
                const [count, setCount] = React.useState(0);

                const isInIFrame = window !== window.parent;

                return React.createElement('div', null,
                    React.createElement('h1', null, `Count: ${count}`),
                    isInIFrame ? React.createElement('h2', null, "I'm in an iframe!") : React.createElement('h2', null, "I'm NOT in an iframe!"),
                    React.createElement('button', { onClick: () => setCount(count + 1) }, 'Plus'),
                    React.createElement('button', { onClick: () => setCount(count - 1) }, 'Minus')
                );
            };

            ReactDOM.render(
                React.createElement(MyApp, null),
                document.getElementById('root')
            );
        }
    </script>
</body>
</html>
